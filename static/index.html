<!DOCTYPE html>
<html>
    <head>
      <meta name="viewport" content="width=device-width">
      <meta name="viewport" content="initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.2/css/bootstrap.min.css" integrity="sha256-zVUlvIh3NEZRYa9X/qpNY8P1aBy0d4FrI7bhfZSZVwc=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.21/vue.min.js" integrity="sha256-ui3vFTgbIIvd9ePh+wF+ju05O3jympV4FyFlpNMV2cw=" crossorigin="anonymous"></script>

      <script>
        let app
        let scatter
        let eos
        window.onload = function() {
          app = new Vue({
            el: '#app',
            data: {
              xxx: "Ohai",
              loggedIn: false,
              account: null,
              link: null,
            },
            computed: {
              login_caption: function() {
                if(this.loggedIn) {
                  return `Logout ${this.account.name}`
                } else {
                  return `Login`
                }
              }
            },
            methods: {
              async loginout(event) {
                if(this.loggedIn) {
                  await logout()
                  this.loggedIn = false
                } else {
                  await login()
                  this.loggedIn = true
                }
              },
              async upload(event) {
                event.preventDefault()
                do_upload()
              },
            },
          })
          
          /* Login automatically on page reload */
          app.loginout()
          
        }
        
        
        
        
      </script>
    </head>
    
    <body>
      <div class="container">
        <div id="app">  
          <button @click="loginout">{{ login_caption }}</button>
          <h1>Upload File</h1>
          <form>
            <input type="file" name="upload"></input><br />
            <button @click="upload" type="submit">Upload</button>
          </form>
          
          <!-- Modal -->
          <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalCenterTitle">Upload Successful</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  The file can be shared by sending the following sharing link via email or instant messaging: <br/>
                  <a v-bind:href="link">{{ link }}</a>
                  
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
              </div>
            </div>
          </div>
    
        </div>
      </div>
      
      
      
      <script src="https://cdn.jsdelivr.net/npm/eosjs-ecc-priveos@4.0.6/lib/eosjs-ecc.min.js" integrity="sha256-gKOXIHdc3iuYlN3vzJackSybAqb+EFLHQ4STHuXtjc0=" crossorigin="anonymous"></script>
      
      <script src="https://cdn.jsdelivr.net/npm/eosjs@16.0.9/lib/eos.min.js" integrity="sha256-lY6On2sTkCEB0x41QX4Tgh6ofUV3qrk3TMIbJKGN57Q=" crossorigin="anonymous"></script>
      
      <script src="https://cdn.scattercdn.com/file/scatter-cdn/js/latest/scatterjs-core.min.js"></script>
      <script src="https://cdn.scattercdn.com/file/scatter-cdn/js/latest/scatterjs-plugin-eosjs.min.js"></script>

      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>

      <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.2/js/bootstrap.min.js" integrity="sha256-IeI0loa35pfuDxqZbGhQUiZmD2Cywv1/bdqiypGW46o=" crossorigin="anonymous"></script>
            
      <script src="https://cdn.jsdelivr.net/npm/priveos@0.2.1/dist/browser/priveos.js" integrity="sha256-WNjUm4w+r1VJP74cBN2sMETDMr4ktF190uamHR7/mz4=" crossorigin="anonymous"></script>
            
      <script src="/static/xxx.js"></script>

    </body>
    
</html>  